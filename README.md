# example1

У меня есть функция, которой необходимо сохранять значение от вызова к вызову, при этом это значение используется только в этой функции. Как правильно использовать глобальные переменные в Python? Я пробовал написать нечто подобное:

someGlobalVar = 0

def incrimentGlobalVar()
    someGlobalVar = someGlobalVar + 1

Но данный код не работает. Может есть другие способы решения данной задачи?

---

глобальные переменные доступы на чтение

def func1():
    print(x)

x = 10
func1()   # 10

но простое использование на запись не разрешается:

def func2():
    y = 20    # создаёт локальную переменную, а не изменяет глобальную

y = 10
func2()
print(y)      # 10

Более того, при попытке обратиться к переменной сначала на чтение, потом на запись, мы получим ошибку:

def func3():
    print(z)
    z = 20

z = 10
func3()   # UnboundLocalError: local variable 'z' referenced before assignment

Это происходит из-за того, что использование присваивания переменной z обозначает её, как локальную (как в случае 2). Попытка вывести значение локальной переменной, у которой ещё не задано значение, как раз и порождает возникновение этой ошибки.

Аналогичный пример как раз приведён в вашем вопросе. Там тоже переменная someGlobalVar определяется, как локальная, потому что выполняется присваивание. Так как в этом присваивании используется сначала чтение значения ещё не инициализированной переменной someGlobalVar, мы получаем ту же ошибку.

Для того, чтобы этот пример работал, необходимо предварительно пометить переменную, как global:

def func4():
    global w
    print(w)
    w = 20


w = 10
func4()    # 10
print(w)   # 20

Аналогично будет работать и в вашем случае.
